# ğŸ”’ í†µí•© ë³´ì•ˆ ì·¨ì•½ì  ë¶„ì„ ì‹œìŠ¤í…œ

**Semgrep + Bandit + Claude AI**ë¥¼ í™œìš©í•œ ìë™í™”ëœ ë³´ì•ˆ ì·¨ì•½ì  ë¶„ì„ ë„êµ¬

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![Semgrep](https://img.shields.io/badge/Semgrep-Latest-green.svg)](https://semgrep.dev/)
[![Bandit](https://img.shields.io/badge/Bandit-Latest-orange.svg)](https://github.com/PyCQA/bandit)
[![Claude](https://img.shields.io/badge/Claude-AI-purple.svg)](https://www.anthropic.com/)

---

## ğŸ“‹ ëª©ì°¨

- [ì†Œê°œ](#-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ì„¤ì¹˜](#-ì„¤ì¹˜)
- [ì‚¬ìš© ë°©ë²•](#-ì‚¬ìš©-ë°©ë²•)
- [Semgrep ê·œì¹™ ë‹¤ìš´ë¡œë“œ](#-semgrep-ê·œì¹™-ë‹¤ìš´ë¡œë“œ)
- [ë¶„ì„ ê²°ê³¼](#-ë¶„ì„-ê²°ê³¼)
- [ì˜ˆì‹œ ì·¨ì•½ì  íŒŒì¼](#-ì˜ˆì‹œ-ì·¨ì•½ì -íŒŒì¼)
- [ë¬¸ì œ í•´ê²°](#-ë¬¸ì œ-í•´ê²°)

---

## ğŸ¯ ì†Œê°œ

ì´ ë„êµ¬ëŠ” **3ê°€ì§€ ê°•ë ¥í•œ ë³´ì•ˆ ë¶„ì„ ë„êµ¬**ë¥¼ ê²°í•©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ì½”ë“œì˜ ë³´ì•ˆ ì·¨ì•½ì ì„ ìë™ìœ¼ë¡œ íƒì§€í•˜ê³  ìƒì„¸í•œ ë³´ê³ ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

### ë¶„ì„ ì›Œí¬í”Œë¡œìš°

```
ğŸ“ ì½”ë“œ ìŠ¤ìº”
    â†“
ğŸ” Semgrep ë¶„ì„ (OWASP Top 10 + ë‹¤ì–‘í•œ ì–¸ì–´)
    â†“
ğŸ Bandit ë¶„ì„ (Python íŠ¹í™”)
    â†“
ğŸ¤– Claude AI ë¶„ì„ (ì¶”ê°€ ì·¨ì•½ì  ë°œê²¬)
    â†“
ğŸ“Š í†µí•© HTML ë³´ê³ ì„œ ìƒì„±
```

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ” 3ì¤‘ ë³´ì•ˆ ë¶„ì„

1. **Semgrep**
   - 7,000ê°œ ì´ìƒì˜ ë³´ì•ˆ ê·œì¹™
   - OWASP Top 10 ì „ì²´ ì»¤ë²„
   - Python, JavaScript, Java, Go ë“± ë‹¤ì–‘í•œ ì–¸ì–´ ì§€ì›
   - SQL Injection, XSS, Command Injection ë“± íƒì§€

2. **Bandit**
   - Python íŠ¹í™” ì •ì  ë¶„ì„
   - í•˜ë“œì½”ë”©ëœ ë¹„ë°€ë²ˆí˜¸/API í‚¤ íƒì§€
   - ì•½í•œ ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ íƒì§€
   - ìœ„í—˜í•œ í•¨ìˆ˜(eval, exec, pickle) íƒì§€

3. **Claude AI**
   - ì •ì  ë¶„ì„ ë„êµ¬ê°€ ë†“ì¹œ ì·¨ì•½ì  ì¶”ê°€ ë°œê²¬
   - ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì‹¬ì¸µ ë¶„ì„
   - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì·¨ì•½ì  íƒì§€
   - í•œê¸€ë¡œ ìƒì„¸í•œ ì„¤ëª… ì œê³µ

### ğŸ“Š ë³´ê³ ì„œ ê¸°ëŠ¥

- âœ… ì‹¬ê°ë„ë³„ ë¶„ë¥˜ (Critical/High/Medium/Low)
- âœ… ì½”ë“œ ìŠ¤ë‹ˆí« ë° ìˆ˜ì • ë°©ì•ˆ ì œê³µ
- âœ… CWE ID ë° OWASP ë§¤í•‘
- âœ… ë„êµ¬ë³„ ë°œê²¬ ë‚´ì—­ êµ¬ë¶„

---

## ğŸš€ ì„¤ì¹˜

### 1. í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- **Python 3.8 ì´ìƒ**
- **Git** (Semgrep ê·œì¹™ ë‹¤ìš´ë¡œë“œìš©)
- **Anthropic API Key** (Claude AI)

### 2. í”„ë¡œì íŠ¸ í´ë¡ 

```bash
git clone https://github.com/your-repo/security-analyzer.git
cd security-analyzer
```

### 3. ì˜ì¡´ì„± ì„¤ì¹˜

**Windows:**
```powershell
pip install -r requirements_integrated.txt
```

**Linux/Mac:**
```bash
pip3 install -r requirements_integrated.txt
```

### 4. API í‚¤ ì„¤ì •

**ë°©ë²• : ì½”ë“œ ì§ì ‘ ìˆ˜ì •**

`main.py` íŒŒì¼ì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì—ì„œ:
```python
ANTHROPIC_API_KEY = os.getenv("ANTHROPIC_API_KEY", "YOUR_API_KEY_HERE")
```
ìœ„ ì½”ë“œë¥¼ ì°¾ì•„ `"YOUR_API_KEY_HERE"` ë¶€ë¶„ì— ì‹¤ì œ API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”.

---

## ğŸ“– ì‚¬ìš© ë°©ë²•

### ë¹ ë¥¸ ì‹œì‘ (3ë‹¨ê³„)

#### 1ë‹¨ê³„: Semgrep ê·œì¹™ ë‹¤ìš´ë¡œë“œ (ì²˜ìŒ í•œ ë²ˆë§Œ)

```powershell
python download_semgrep_rules.py
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
ğŸ” Semgrep ê·œì¹™ ë‹¤ìš´ë¡œë“œ ì¤‘...
  âœ“ ê·œì¹™ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ!
  ğŸ“Š ë‹¤ìš´ë¡œë“œëœ ê·œì¹™ íŒŒì¼: 2000+ê°œ
```

#### 2ë‹¨ê³„: ë¶„ì„ ì‹¤í–‰

```powershell
python main.py
```

#### 3ë‹¨ê³„: ê²½ë¡œ ì…ë ¥

```
ğŸ“ ë¶„ì„í•  í”„ë¡œì íŠ¸ í´ë” ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”:
> C:\Users\user\my-project

ğŸ“„ ë³´ê³ ì„œ íŒŒì¼ëª…ì„ ì…ë ¥í•˜ì„¸ìš”:
> security_report.html
```

---

## ğŸ”§ Semgrep ê·œì¹™ ë‹¤ìš´ë¡œë“œ

### ìë™ ë‹¤ìš´ë¡œë“œ

```powershell
python download_semgrep_rules.py
```

**ë‹¤ìš´ë¡œë“œ ë‚´ìš©:**
- 7,000ê°œ ì´ìƒì˜ ë³´ì•ˆ ê·œì¹™
- Python, JavaScript, Java, Go ë“± ë‹¤ì–‘í•œ ì–¸ì–´
- ì•½ 200MB ë””ìŠ¤í¬ ê³µê°„ í•„ìš”
- ë‹¤ìš´ë¡œë“œ ì‹œê°„: 1~3ë¶„

### ìˆ˜ë™ ë‹¤ìš´ë¡œë“œ (Git ì—†ì„ ë•Œ)

1. ë‹¤ìš´ë¡œë“œ: https://github.com/returntocorp/semgrep-rules/archive/refs/heads/develop.zip
2. ì••ì¶• í•´ì œ
3. í´ë”ëª…ì„ `semgrep-rules`ë¡œ ë³€ê²½
4. í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ë°°ì¹˜

### ê·œì¹™ ì—…ë°ì´íŠ¸

```powershell
python download_semgrep_rules.py
```

ê¸°ì¡´ ê·œì¹™ì´ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

---

## ğŸ“Š ë¶„ì„ ê²°ê³¼

### ì¶œë ¥ ì˜ˆì‹œ

```
======================================================================
ğŸ”’ í†µí•© ë³´ì•ˆ ì·¨ì•½ì  ë¶„ì„ ì‹œìŠ¤í…œ
======================================================================

âœ… Semgrep ê·œì¹™: C:\...\semgrep-rules

ğŸ” Semgrepìœ¼ë¡œ ë³´ì•ˆ ë¶„ì„ ì¤‘...
  âœ“ Semgrep ë¶„ì„ ì™„ë£Œ
    - ë°œê²¬ëœ ì´ìŠˆ: 25ê°œ
    - ERROR: 8ê°œ
    - WARNING: 12ê°œ
    - INFO: 5ê°œ

ğŸ” Banditìœ¼ë¡œ Python ì½”ë“œ ë¶„ì„ ì¤‘...
  âœ“ Bandit ë¶„ì„ ì™„ë£Œ
    - ë°œê²¬ëœ ì´ìŠˆ: 15ê°œ
    - HIGH: 3ê°œ
    - MEDIUM: 8ê°œ
    - LOW: 4ê°œ

ğŸ¤– Claude APIë¥¼ í†µí•œ ë³´ì•ˆ ë¶„ì„...
  âœ“ LLM ë¶„ì„ ì™„ë£Œ

ğŸ“„ HTML ë³´ê³ ì„œ ìƒì„± ì™„ë£Œ: security_report.html

======================================================================
âœ… ë¶„ì„ ì™„ë£Œ!
ğŸ“Š ì´ 45ê°œì˜ ì·¨ì•½ì  ë°œê²¬
   ã€ì •ì  ë¶„ì„ ë„êµ¬ã€‘
   - Semgrep: 25ê°œ
   - Bandit: 15ê°œ
   ã€LLM ì¶”ê°€ ë°œê²¬ã€‘
   - Claude AI: 5ê°œ
======================================================================
```

### HTML ë³´ê³ ì„œ êµ¬ì„±

- **ìš”ì•½ ëŒ€ì‹œë³´ë“œ**: ì „ì²´ ì·¨ì•½ì  ê°œìˆ˜ ë° ì‹¬ê°ë„ ë¶„í¬
- **Semgrep ë¶„ì„ ê²°ê³¼**: OWASP Top 10 ê¸°ë°˜ ì·¨ì•½ì 
- **Bandit ë¶„ì„ ê²°ê³¼**: Python íŠ¹í™” ì·¨ì•½ì 
- **ì·¨ì•½ì  ìƒì„¸ ì •ë³´**:
  - ì‹¬ê°ë„ (Critical/High/Medium/Low)
  - ì¹´í…Œê³ ë¦¬ (SQL Injection, XSS ë“±)
  - ìœ„ì¹˜ (íŒŒì¼ëª…:ë¼ì¸ë²ˆí˜¸)
  - ë¬¸ì œ ì½”ë“œ ìŠ¤ë‹ˆí«
  - ì˜í–¥ ë¶„ì„
  - ìˆ˜ì • ë°©ì•ˆ
  - CWE ID

---

## ğŸ§ª ì˜ˆì‹œ ì·¨ì•½ì  íŒŒì¼

`test_project/` í´ë”ì— ë‹¤ì–‘í•œ ì·¨ì•½ì  ì˜ˆì‹œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

### Python ì·¨ì•½ì 

| íŒŒì¼ | ì·¨ì•½ì  |
|------|--------|
| `sql_injection.py` | SQL Injection (6ê°œ ë³€í˜•) |
| `command_injection.py` | OS Command Injection (9ê°œ) |
| `path_traversal.py` | Path Traversal, Deserialization (10ê°œ) |
| `flask_vulnerabilities.py` | Flask ì›¹ì•± ì·¨ì•½ì  (19ê°œ) |
| `crypto_hardcoded.py` | í•˜ë“œì½”ë”©, ì•½í•œ ì•”í˜¸í™” (25ê°œ) |
| `file_permission.py` | íŒŒì¼ ê¶Œí•œ, Race Condition (15ê°œ) |

### JavaScript ì·¨ì•½ì 

| íŒŒì¼ | ì·¨ì•½ì  |
|------|--------|
| `xss_vulnerable.js` | XSS, CSRF, Open Redirect (12ê°œ) |
| `frontend.js` | í”„ë¡ íŠ¸ì—”ë“œ ë³´ì•ˆ ì´ìŠˆ |

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```powershell
python main.py
```

ì…ë ¥:
```
> C:\path\to\test_project
> test_report.html
```

**ì˜ˆìƒ ê²°ê³¼**: 50ê°œ ì´ìƒì˜ ì·¨ì•½ì  ë°œê²¬

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### 1. Semgrepì´ ì·¨ì•½ì ì„ ì°¾ì§€ ëª»í•¨

**ì¦ìƒ:**
```
âœ“ Semgrep ë¶„ì„ ì™„ë£Œ
  - ë°œê²¬ëœ ì´ìŠˆ: 0ê°œ
```

**í•´ê²°:**
```powershell
# ê·œì¹™ ë‹¤ìš´ë¡œë“œ
python download_semgrep_rules.py

# ì§ì ‘ í…ŒìŠ¤íŠ¸
C:\...\semgrep.exe --config semgrep-rules/python/lang/security test.py
```

### 2. Gitì´ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ:**
```
âœ— Gitì´ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤!
```

**í•´ê²°:**
- **ë°©ë²• 1**: Git ì„¤ì¹˜ - https://git-scm.com/download/win
- **ë°©ë²• 2**: ìˆ˜ë™ ë‹¤ìš´ë¡œë“œ (ìœ„ "Semgrep ê·œì¹™ ë‹¤ìš´ë¡œë“œ" ì°¸ê³ )

### 3. API í‚¤ ì˜¤ë¥˜

**ì¦ìƒ:**
```
âŒ API í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”!
```

**í•´ê²°:**
```powershell
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
$env:ANTHROPIC_API_KEY="sk-ant-api03-xxxxx"

# ë˜ëŠ” main.py íŒŒì¼ ìˆ˜ì •
```

### 4. Python ë²„ì „ ë¬¸ì œ

**ì¦ìƒ:**
```
ModuleNotFoundError: No module named 'anthropic'
```

**í•´ê²°:**
```powershell
# Python ë²„ì „ í™•ì¸ (3.8 ì´ìƒ í•„ìš”)
python --version

# ì˜ì¡´ì„± ì¬ì„¤ì¹˜
pip install -r requirements_integrated.txt
```

### 5. Semgrep ì‹¤í–‰ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ

**ì¦ìƒ:**
```
âœ— Semgrepì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

**í•´ê²°:**
```powershell
# Semgrep ì„¤ì¹˜
pip install semgrep

# ì„¤ì¹˜ í™•ì¸
semgrep --version
```

### 6. ì¸ì½”ë”© ì˜¤ë¥˜ (Windows)

**ì¦ìƒ:**
```
UnicodeEncodeError: 'cp949' codec can't encode character
```

**í•´ê²°:**
ì½”ë“œê°€ ì´ë¯¸ UTF-8 ê°•ì œ ì„¤ì •ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ë„ ë¬¸ì œê°€ ìˆë‹¤ë©´:

```powershell
# PowerShell ì¸ì½”ë”© ì„¤ì •
[Console]::OutputEncoding = [System.Text.Encoding]::UTF8
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
security-analyzer/
â”œâ”€â”€ .gitignore                        # Git ì œì™¸ ê·œì¹™
â”œâ”€â”€ main.py                           # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â”œâ”€â”€ download_semgrep_rules.py         # ê·œì¹™ ë‹¤ìš´ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ requirements_integrated.txt       # Python ì˜ì¡´ì„±
â”œâ”€â”€ README.md                         # ì´ íŒŒì¼
â”œâ”€â”€ semgrep-rules/                    # ë‹¤ìš´ë¡œë“œëœ Semgrep ê·œì¹™ (ìë™ ìƒì„±, Git ì œì™¸)
â””â”€â”€ test_project/                     # ì˜ˆì‹œ ì·¨ì•½ì  íŒŒì¼
    â”œâ”€â”€ sql_injection.py
    â”œâ”€â”€ command_injection.py
    â”œâ”€â”€ path_traversal.py
    â”œâ”€â”€ xss_vulnerable.js
    â”œâ”€â”€ flask_vulnerabilities.py
    â”œâ”€â”€ crypto_hardcoded.py
    â”œâ”€â”€ file_permission.py
    â””â”€â”€ ...
```

---

## ğŸ¯ ì§€ì›í•˜ëŠ” ì·¨ì•½ì  íƒ€ì…

### OWASP Top 10 (2021)

| OWASP | ì·¨ì•½ì  | íƒì§€ ë„êµ¬ |
|-------|--------|-----------|
| A01 | Broken Access Control (IDOR) | Semgrep, Claude |
| A02 | Cryptographic Failures | Semgrep, Bandit |
| A03 | Injection (SQL, Command, Code) | Semgrep, Bandit |
| A04 | Insecure Design | Claude |
| A05 | Security Misconfiguration | Semgrep, Bandit |
| A06 | Vulnerable Components | Semgrep |
| A07 | Authentication Failures | Semgrep, Claude |
| A08 | Software and Data Integrity | Semgrep, Bandit |
| A09 | Logging Failures | Semgrep |
| A10 | SSRF | Semgrep |

### ì¶”ê°€ íƒì§€ ì·¨ì•½ì 

- **í”„ë¡ íŠ¸ì—”ë“œ**: XSS, CSRF, Open Redirect, DOM-based XSS
- **ë°±ì—”ë“œ**: Path Traversal, File Inclusion, XXE, Deserialization
- **ì•”í˜¸í™”**: ì•½í•œ í•´ì‹œ(MD5, SHA1), ì•½í•œ ì•”í˜¸í™”(DES), í•˜ë“œì½”ë”©ëœ í‚¤
- **ì¸ì¦**: í‰ë¬¸ ë¹„ë°€ë²ˆí˜¸, JWT ì·¨ì•½ì , ì„¸ì…˜ ê³ ì •
- **ì„¤ì •**: Debug ëª¨ë“œ, ê³¼ë„í•œ ê¶Œí•œ, ì•½í•œ ëœë¤

---

## ğŸ”’ ë³´ì•ˆ ë° í”„ë¼ì´ë²„ì‹œ

- âœ… ëª¨ë“  ë¶„ì„ì€ **ë¡œì»¬**ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤
- âœ… Claude APIëŠ” **ë¶„ì„ ê²°ê³¼**ë§Œ ì „ì†¡ (ì „ì²´ ì½”ë“œ ì•„ë‹˜)
- âœ… API í‚¤ëŠ” **í™˜ê²½ ë³€ìˆ˜** ì‚¬ìš© ê¶Œì¥
- âœ… ìƒì„±ëœ ë³´ê³ ì„œëŠ” **ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹** ê°€ëŠ¥

---

## ğŸ“š ì°¸ê³  ìë£Œ

- **Semgrep ê³µì‹ ë¬¸ì„œ**: https://semgrep.dev/docs
- **Bandit ê³µì‹ ë¬¸ì„œ**: https://bandit.readthedocs.io
- **Claude AI**: https://www.anthropic.com/claude
- **OWASP Top 10**: https://owasp.org/www-project-top-ten
- **CWE (Common Weakness Enumeration)**: https://cwe.mitre.org

---

## ğŸ’¡ ì‚¬ìš© íŒ

### 1. CI/CD í†µí•©
```yaml
# GitHub Actions ì˜ˆì‹œ
- name: Security Scan
  run: |
    python download_semgrep_rules.py
    python main.py --auto
```

### 2. ì»¤ìŠ¤í…€ ê·œì¹™ ì¶”ê°€
```yaml
# semgrep-rules/custom/my-rule.yaml
rules:
  - id: custom-vulnerability
    pattern: dangerous_function(...)
    message: Custom security rule
    languages: [python]
    severity: ERROR
```

### 3. íŠ¹ì • íŒŒì¼ ì œì™¸
```python
# main.py ìˆ˜ì •
exclude_patterns = [
    '*/node_modules/*',
    '*/venv/*',
    '*/test/*'
]
```

---

MIT License

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025ë…„ 12ì›” 18ì¼*
